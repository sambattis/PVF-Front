<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!DOCTYPE html>
<html lang="en">
  <body>
    <!-- <style>
        div {
        font: 800 40px system-ui;
            }
    </style> -->

    <div class="counter" data-target="100">10</div>


    <script>
        // Function to tick up the number
        function tickUp(element, targetValue) {
            console.log("woooo");
            let currentValue = parseInt(element.textContent);
            const step = 111; // Change this to adjust the increment amount

            if (currentValue < targetValue) {
                currentValue += step;
                element.textContent = currentValue;
                setTimeout(tickUp(element, targetValue), 10);
            }
        }


        function handleIntersect(entries, observer) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    console.log("ahhhh");
                    const targetValue = parseInt(entry.target.getAttribute('data-target'));
                    tickUp(entry.target, targetValue);
                }
            });
        }

        // Options for the Intersection Observer
        const options = {
            threshold: 0.5 // 50% visibility threshold
        };

        // Create the Intersection Observer
        const observer = new IntersectionObserver(handleIntersect, options);

        // Observe each element with class "counter"
        const counters = document.querySelectorAll('.counter');
        counters.forEach(counter => observer.observe(counter));
    </script>

  </body>
</html>
